@page "/criar-pessoa"
@inject NavigationManager NavigationManager;
@inject BlazorApp1.Services.IPessoaService pessoaService;
@using BlazorApp1.Models;

<h3>Adicionar paciente</h3>

<EditForm Model="PessoaModel" OnValidSubmit="CriarPessoa">
    <div class="form-group mb-3">
        <h3>Nome: </h3>
        <InputText @bind-Value="PessoaModel.Nome" class="form-control" />
    </div>

    <div class="form-group mb-3">
        <h3>Sobrenome: </h3>
        <InputText @bind-Value="PessoaModel.Sobrenome" class="form-control" />
    </div>

    <div class="form-group mb-3">
        <h3>Descrição: </h3>
        <InputText @bind-Value="PessoaModel.Descricao" class="form-control" />
    </div>


    <DataAnnotationsValidator />
    <ValidationSummary />

    <button class="btn btn-success" type="submit">Salvar</button>
</EditForm>

@code {
    Pessoa PessoaModel = new();

    async Task CriarPessoa()
    {
        await pessoaService.Add(PessoaModel);
    }

}